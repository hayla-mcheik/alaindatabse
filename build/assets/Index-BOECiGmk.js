import{r as U,u as B,l as oe,k as _,m as re,c as n,a as A,b as c,h as le,w as T,d as e,f as p,o as l,g as m,t as r,F as b,i as v,p as R,e as ne,j as w,v as ie,q as k,n as $,s as ae,x as H}from"./app-B-9FXUnp.js";import{_ as de}from"./AuthenticatedLayout-CPCY7Edd.js";const ue={class:"container mx-auto p-6"},ce={key:0,class:"mb-6 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative"},pe={key:1,class:"mb-6 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative"},me={key:2,class:"mb-6 bg-blue-50 border border-blue-200 rounded-md p-4"},ge={class:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm"},fe={class:"text-center"},xe={class:"text-2xl font-bold text-green-600"},be={class:"text-center"},ye={class:"text-2xl font-bold text-yellow-600"},ve={class:"text-center"},we={class:"text-2xl font-bold text-red-600"},he={class:"text-center"},ke={class:"text-2xl font-bold text-blue-600"},_e={class:"mt-3 p-3 bg-white rounded border"},Ae={class:"space-y-1 text-sm"},$e={key:0,class:"flex items-center text-green-700"},Ce={key:1,class:"flex items-center text-yellow-700"},Se={key:2,class:"flex items-center text-red-700"},Ee={class:"flex items-center text-blue-700"},Fe={key:3,class:"mb-6"},Ue={class:"bg-red-50 border border-red-200 rounded-md p-4"},Be={class:"flex justify-between items-center mb-3"},Te={class:"text-lg font-medium text-red-800"},Re={class:"mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg"},De={class:"flex items-start"},Pe={class:"text-sm text-yellow-700"},Ne={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 max-h-40 overflow-y-auto"},Ie={class:"text-yellow-800"},Me={class:"mt-2 text-xs"},je={class:"space-y-4 max-h-96 overflow-y-auto"},Le={class:"flex justify-between items-start mb-3"},Ve={class:"flex items-center"},Ye={class:"text-sm text-orange-600 ml-3"},Oe={class:"text-sm bg-orange-100 text-orange-800 px-2 py-1 rounded"},He={class:"bg-white rounded-lg p-3 border border-orange-100 mb-3"},Ge={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 text-sm"},qe={class:"flex flex-col"},ze={class:"font-semibold text-gray-800"},Qe={class:"flex flex-col"},We={class:"text-gray-700"},Ze={class:"flex flex-col"},Je={class:"font-mono text-red-600"},Ke={class:"flex flex-col"},Xe={class:"text-gray-700"},et={class:"flex flex-col"},tt={class:"text-gray-700"},st={class:"flex flex-col"},ot={class:"text-gray-700"},rt={class:"bg-red-50 rounded-lg p-3 border border-red-200"},lt={class:"flex items-start"},nt={class:"text-red-700 text-sm"},it={class:"flex justify-between items-center mb-6"},at={class:"space-x-4"},dt=["disabled"],ut={key:0},ct={key:1},pt={class:"bg-white rounded-lg shadow-md p-6 mb-6"},mt={key:0,class:"text-red-600 text-sm mt-1"},gt={class:"flex space-x-4"},ft=["disabled"],xt={key:0},bt={key:1},yt={class:"bg-white rounded-lg shadow-md p-6 mb-6"},vt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4"},wt=["value"],ht=["value"],kt={key:0,class:"mt-2"},_t={class:"flex flex-wrap gap-1"},At=["onClick"],$t=["value"],Ct={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4"},St=["value"],Et={class:"bg-white rounded-lg shadow-md overflow-hidden"},Ft={class:"overflow-x-auto"},Ut={class:"min-w-full divide-y divide-gray-200"},Bt={class:"bg-gray-50"},Tt={class:"flex items-center"},Rt={key:0,class:"ml-1"},Dt={class:"flex items-center"},Pt={key:0,class:"ml-1"},Nt={class:"bg-white divide-y divide-gray-200"},It={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},Mt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},jt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Lt={class:"px-6 py-4 whitespace-nowrap"},Vt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Yt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium"},Ot={key:0},Ht={key:0,class:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6"},Gt={class:"flex justify-between items-center"},qt={class:"text-sm text-gray-700"},zt={class:"space-x-2"},Qt=["innerHTML"],Jt={__name:"Index",props:{records:{type:Object,default:()=>({})},platforms:{type:Array,default:()=>[]},countries:{type:Array,default:()=>[]},clients:{type:Array,default:()=>[]},agencies:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({})},sort:{type:String,default:"budget"},direction:{type:String,default:"desc"}},setup(u){const d=u,y=U(d.sort||"budget"),g=U(d.direction||"desc"),f=B({files:null});B({});const C=B({}),i=U({search:d.filters?.search||"",platform:d.filters?.platform||"",countries:d.filters?.countries||(d.filters?.country?[d.filters.country]:[]),client:d.filters?.client||"",agency:d.filters?.agency||"",budget_tier:d.filters?.budget_tier||"",min_budget:d.filters?.min_budget||"",max_budget:d.filters?.max_budget||"",year:d.filters?.year||""}),S=s=>s.values?.client_name?s.values.client_name:s.values?.client?s.values.client:"Unknown Client",D=s=>{const t=s.values?.agency_name||s.values?.agency;return j(t)||"Direct"},P=s=>s.values?.budget||s.values?.budget_amount||0,N=s=>s.values?.platform||"Unknown Platform",I=s=>s.values?.country||"Unknown Country",M=s=>s.values?.date||"Unknown Year",j=s=>!s||s==="direct"||s==="Unknown Agency"?"Direct":s,E=s=>{if(!s&&s!==0)return"0.00";const t=typeof s=="string"?parseFloat(s):s;return new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t)},G=()=>{_.reload()},L=()=>{const s=H().props.flash.import_errors;if(!s||s.length===0)return[];const t=new Set;return s.forEach(o=>{const x=S(o);x&&x!=="Unknown Client"&&t.add(x)}),Array.from(t).sort()},q=()=>{const s=H().props.flash.import_errors;if(!s||s.length===0)return;const t=s.map(a=>({File:a.file,Row:a.row_index||a.row||"N/A",Client:S(a),Agency:D(a),Budget:`$${E(P(a))}`,Platform:N(a),Country:I(a),Year:M(a),"Error Reason":a.errors?.[0]||"Unknown error"})),x="data:text/csv;charset=utf-8,"+["File","Row","Client","Agency","Budget","Platform","Country","Year","Error Reason"].join(",")+`
`+t.map(a=>`"${a.File}","${a.Row}","${a.Client}","${a.Agency}","${a.Budget}","${a.Platform}","${a.Country}","${a.Year}","${a["Error Reason"]}"`).join(`
`),O=encodeURI(x),h=document.createElement("a");h.setAttribute("href",O),h.setAttribute("download",`import_errors_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(h),h.click(),document.body.removeChild(h)};oe(i,s=>{F()},{deep:!0,immediate:!1});const z=()=>{confirm("Are you sure you want to delete ALL records? This action cannot be undone.")&&C.get(route("analytics.clear-all"),{preserveScroll:!0,onSuccess:()=>{console.log("All data cleared successfully"),_.reload()},onError:s=>{console.error("Error clearing data:",s),alert("Error clearing data. Please try again.")}})},Q=s=>{if(!s)return"N/A";try{return new Date(s).getFullYear().toString()}catch{return"N/A"}},W=()=>{y.value==="date"?g.value=g.value==="desc"?"asc":"desc":(y.value="date",g.value="desc"),F()},Z=()=>{y.value==="budget"?g.value=g.value==="desc"?"asc":"desc":(y.value="budget",g.value="desc"),F()},F=()=>{const s={...i.value};Object.keys(s).forEach(t=>{(Array.isArray(s[t])&&s[t].length===0||s[t]===""||s[t]===null||s[t]===void 0)&&delete s[t]}),s.sort=y.value,s.direction=g.value,s.countries&&s.countries.length>0&&delete s.country,_.get(route("analytics.index"),s,{preserveState:!0,replace:!0,preserveScroll:!0})},J=()=>`&sort=${y.value}&direction=${g.value}`,V=()=>{const s=new URLSearchParams;Object.keys(i.value).forEach(o=>{i.value[o]&&(Array.isArray(i.value[o])?i.value[o].forEach(x=>{s.append(`${o}[]`,x)}):s.append(o,i.value[o]))});const t=s.toString();return t?`&${t}`:""},K=()=>{i.value={search:"",platform:"",countries:[],client:"",agency:"",budget_tier:"",min_budget:"",max_budget:"",year:""}},Y=s=>{_.reload({only:["flash"]})},X=s=>!s||s==="direct"||s==="Unknown Agency"?"bg-purple-100 text-purple-800 px-2 py-1 rounded-full text-xs font-medium":"text-gray-900",ee=s=>{i.value.countries=i.value.countries.filter(t=>t!==s)},te=()=>{if(!f.files||f.files.length===0){alert("Please select at least one file");return}f.post(route("analytics.import"),{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{f.reset()},onError:s=>{console.error("Import errors:",s)}})},se=s=>s&&{google:"bg-red-100 text-red-800",snap:"bg-yellow-100 text-yellow-800",tiktok:"bg-blue-100 text-blue-800",meta:"bg-indigo-100 text-indigo-800",twitter:"bg-sky-100 text-sky-800"}[s]||"bg-gray-100 text-gray-800";return re(()=>{!d.sort&&!d.direction&&(y.value="budget",g.value="desc")}),(s,t)=>(l(),n(b,null,[A(c(le),{title:"Analytics"}),A(de,null,{default:T(()=>[e("div",ue,[s.$page.props.flash.success?(l(),n("div",ce,[e("button",{onClick:t[0]||(t[0]=o=>Y("success")),class:"absolute top-2 right-2 text-green-600 hover:text-green-800"}," × "),m(" "+r(s.$page.props.flash.success),1)])):p("",!0),s.$page.props.flash.error?(l(),n("div",pe,[e("button",{onClick:t[1]||(t[1]=o=>Y("error")),class:"absolute top-2 right-2 text-red-600 hover:text-red-800"}," × "),m(" "+r(s.$page.props.flash.error),1)])):p("",!0),s.$page.props.flash.import_stats?(l(),n("div",me,[t[18]||(t[18]=e("h3",{class:"text-lg font-medium text-blue-800 mb-3"},"Import Statistics",-1)),e("div",ge,[e("div",fe,[e("div",xe,r(s.$page.props.flash.import_stats.imported||0),1),t[9]||(t[9]=e("div",{class:"text-blue-700"},"New Records",-1))]),e("div",be,[e("div",ye,r(s.$page.props.flash.import_stats.updated||0),1),t[10]||(t[10]=e("div",{class:"text-blue-700"},"Updated Records",-1))]),e("div",ve,[e("div",we,r(s.$page.props.flash.import_stats.failed||0),1),t[11]||(t[11]=e("div",{class:"text-blue-700"},"Failed Records",-1))]),e("div",he,[e("div",ke,r(s.$page.props.flash.import_stats.total_processed||0),1),t[12]||(t[12]=e("div",{class:"text-blue-700"},"Total Processed",-1))])]),e("div",_e,[t[17]||(t[17]=e("h4",{class:"font-medium text-blue-800 mb-2"},"Summary:",-1)),e("div",Ae,[s.$page.props.flash.import_stats.imported>0?(l(),n("div",$e,[t[13]||(t[13]=e("span",{class:"w-2 h-2 bg-green-500 rounded-full mr-2"},null,-1)),m(" "+r(s.$page.props.flash.import_stats.imported)+" new records added to database ",1)])):p("",!0),s.$page.props.flash.import_stats.updated>0?(l(),n("div",Ce,[t[14]||(t[14]=e("span",{class:"w-2 h-2 bg-yellow-500 rounded-full mr-2"},null,-1)),m(" "+r(s.$page.props.flash.import_stats.updated)+" existing records updated ",1)])):p("",!0),s.$page.props.flash.import_stats.failed>0?(l(),n("div",Se,[t[15]||(t[15]=e("span",{class:"w-2 h-2 bg-red-500 rounded-full mr-2"},null,-1)),m(" "+r(s.$page.props.flash.import_stats.failed)+" records failed to import (see errors below) ",1)])):p("",!0),e("div",Ee,[t[16]||(t[16]=e("span",{class:"w-2 h-2 bg-blue-500 rounded-full mr-2"},null,-1)),m(" Processed "+r(s.$page.props.flash.import_stats.files_count)+" file(s) ",1)])])])])):p("",!0),s.$page.props.flash&&s.$page.props.flash.import_errors&&s.$page.props.flash.import_errors.length>0?(l(),n("div",Fe,[e("div",Ue,[e("div",Be,[e("h3",Te," Import Errors & Skipped Records ("+r(s.$page.props.flash.import_errors.length)+") ",1),e("div",{class:"space-x-2"},[e("button",{onClick:q,class:"text-sm bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700"}," Export Errors "),e("button",{onClick:G,class:"text-red-600 hover:text-red-800 text-sm font-medium"}," Dismiss ")])]),e("div",Re,[e("div",De,[t[22]||(t[22]=e("span",{class:"text-yellow-600 mr-2 mt-0.5"},"⚠️",-1)),e("div",null,[t[21]||(t[21]=e("h4",{class:"font-medium text-yellow-800 mb-2"},"Affected Clients with Zero/Negative Budgets:",-1)),e("div",Pe,[t[20]||(t[20]=e("p",{class:"mb-2"},"The following clients were skipped due to invalid budget values (zero or negative):",-1)),e("div",Ne,[(l(!0),n(b,null,v(L(),o=>(l(),n("div",{key:o,class:"flex items-center"},[t[19]||(t[19]=e("span",{class:"w-2 h-2 bg-yellow-500 rounded-full mr-2"},null,-1)),e("span",Ie,r(o),1)]))),128))]),e("p",Me,"Total affected clients: "+r(L().length),1)])])])]),e("div",je,[(l(!0),n(b,null,v(s.$page.props.flash.import_errors,(o,x)=>(l(),n("div",{key:x,class:"bg-orange-50 border border-orange-200 rounded-lg p-4"},[e("div",Le,[e("div",Ve,[t[24]||(t[24]=e("span",{class:"text-orange-600 mr-2"},"⏭️",-1)),t[25]||(t[25]=e("span",{class:"font-medium text-orange-800"},"Skipped Record",-1)),e("span",Ye,[t[23]||(t[23]=m(" File: ",-1)),e("strong",null,r(o.file),1)])]),e("span",Oe," Row "+r(o.row_index||o.row||"N/A"),1)]),e("div",He,[e("div",Ge,[e("div",qe,[t[26]||(t[26]=e("span",{class:"text-xs text-gray-500 font-medium mb-1"},"CLIENT",-1)),e("span",ze,r(S(o)),1)]),e("div",Qe,[t[27]||(t[27]=e("span",{class:"text-xs text-gray-500 font-medium mb-1"},"AGENCY",-1)),e("span",We,r(D(o)),1)]),e("div",Ze,[t[28]||(t[28]=e("span",{class:"text-xs text-gray-500 font-medium mb-1"},"BUDGET",-1)),e("span",Je," $"+r(E(P(o))),1)]),e("div",Ke,[t[29]||(t[29]=e("span",{class:"text-xs text-gray-500 font-medium mb-1"},"PLATFORM",-1)),e("span",Xe,r(N(o)),1)]),e("div",et,[t[30]||(t[30]=e("span",{class:"text-xs text-gray-500 font-medium mb-1"},"COUNTRY",-1)),e("span",tt,r(I(o)),1)]),e("div",st,[t[31]||(t[31]=e("span",{class:"text-xs text-gray-500 font-medium mb-1"},"YEAR",-1)),e("span",ot,r(M(o)),1)])])]),e("div",rt,[e("div",lt,[t[33]||(t[33]=e("span",{class:"text-red-500 mr-2 mt-0.5"},"❌",-1)),e("div",null,[t[32]||(t[32]=e("span",{class:"font-medium text-red-800 block mb-1"},"Reason for Skipping:",-1)),e("p",nt,r(o.errors?.[0]||"Unknown error"),1)])])])]))),128))])])])):p("",!0),e("div",it,[t[35]||(t[35]=e("h1",{class:"text-3xl font-bold text-gray-800"},"Analytics Records",-1)),e("div",at,[e("button",{onClick:z,disabled:c(C).processing,class:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition ease-in-out duration-150 disabled:opacity-50"},[c(C).processing?(l(),n("span",ut,"Clearing...")):(l(),n("span",ct,"Clear All Data"))],8,dt),A(c(R),{href:s.route("analytics.stats"),class:"inline-flex items-center px-4 py-2 bg-green-600 text-black rounded-md hover:bg-green-700"},{default:T(()=>[...t[34]||(t[34]=[m(" View Statistics ",-1)])]),_:1},8,["href"])])]),e("div",pt,[t[39]||(t[39]=e("h2",{class:"text-xl font-semibold mb-4"},"Import & Export Excel Files",-1)),e("form",{onSubmit:ne(te,["prevent"]),enctype:"multipart/form-data",class:"space-y-4"},[e("div",null,[t[36]||(t[36]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Select Excel Files (Multiple files supported) ",-1)),e("input",{type:"file",onInput:t[2]||(t[2]=o=>c(f).files=o.target.files),multiple:"",accept:".xlsx,.xls,.csv",class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32),t[37]||(t[37]=e("p",{class:"text-sm text-gray-500 mt-1"}," Supported platforms: Google, Snap, TikTok, Meta, Twitter ",-1)),c(f).errors.files?(l(),n("div",mt,r(c(f).errors.files),1)):p("",!0)]),e("div",gt,[e("button",{type:"submit",disabled:c(f).processing||!c(f).files||c(f).files.length===0,class:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 focus:bg-blue-700 active:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150 disabled:opacity-50"},[c(f).processing?(l(),n("span",xt,"Importing...")):(l(),n("span",bt,"Import Files"))],8,ft),A(c(R),{href:s.route("analytics.export")+V(),method:"get",as:"button",class:"inline-flex items-center px-4 py-2 bg-green-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 focus:bg-green-700 active:bg-green-800 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition ease-in-out duration-150 disabled:opacity-50"},{default:T(()=>[...t[38]||(t[38]=[m(" Export Data ",-1)])]),_:1},8,["href"])])],32)]),e("div",yt,[t[53]||(t[53]=e("h2",{class:"text-xl font-semibold mb-4"},"Filters",-1)),e("div",vt,[e("div",null,[t[40]||(t[40]=e("label",{class:"block text-sm font-medium text-gray-700"},"Search",-1)),w(e("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=o=>i.value.search=o),placeholder:"Search client, agency, country...",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[ie,i.value.search]])]),e("div",null,[t[42]||(t[42]=e("label",{class:"block text-sm font-medium text-gray-700"},"Platform",-1)),w(e("select",{"onUpdate:modelValue":t[4]||(t[4]=o=>i.value.platform=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[t[41]||(t[41]=e("option",{value:""},"All Platforms",-1)),(l(!0),n(b,null,v(u.platforms,o=>(l(),n("option",{key:o,value:o},r(o?.charAt(0)?.toUpperCase()+o?.slice(1)),9,wt))),128))],512),[[k,i.value.platform]])]),e("div",null,[t[43]||(t[43]=e("label",{class:"block text-sm font-medium text-gray-700"},"Country",-1)),w(e("select",{"onUpdate:modelValue":t[5]||(t[5]=o=>i.value.countries=o),multiple:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 h-32"},[(l(!0),n(b,null,v(u.countries,o=>(l(),n("option",{key:o,value:o},r(o),9,ht))),128))],512),[[k,i.value.countries]]),t[44]||(t[44]=e("p",{class:"text-xs text-gray-500 mt-1"},"Hold Ctrl/Cmd to select multiple countries",-1)),i.value.countries&&i.value.countries.length>0?(l(),n("div",kt,[e("div",_t,[(l(!0),n(b,null,v(i.value.countries,(o,x)=>(l(),n("span",{key:x,class:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full"},[m(r(o)+" ",1),e("button",{onClick:O=>ee(o),class:"ml-1 text-blue-600 hover:text-blue-800"}," × ",8,At)]))),128))])])):p("",!0)]),e("div",null,[t[46]||(t[46]=e("label",{class:"block text-sm font-medium text-gray-700"},"Client",-1)),w(e("select",{"onUpdate:modelValue":t[6]||(t[6]=o=>i.value.client=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[t[45]||(t[45]=e("option",{value:""},"All Clients",-1)),(l(!0),n(b,null,v(u.clients,o=>(l(),n("option",{key:o,value:o},r(o),9,$t))),128))],512),[[k,i.value.client]])])]),e("div",Ct,[e("div",null,[t[49]||(t[49]=e("label",{class:"block text-sm font-medium text-gray-700"},"Agency",-1)),w(e("select",{"onUpdate:modelValue":t[7]||(t[7]=o=>i.value.agency=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[t[47]||(t[47]=e("option",{value:""},"All Agencies",-1)),t[48]||(t[48]=e("option",{value:"direct"},"Direct",-1)),(l(!0),n(b,null,v(u.agencies,o=>(l(),n("option",{key:o,value:o},r(o),9,St))),128))],512),[[k,i.value.agency]])]),e("div",null,[t[51]||(t[51]=e("label",{class:"block text-sm font-medium text-gray-700"},"Budget Tier",-1)),w(e("select",{"onUpdate:modelValue":t[8]||(t[8]=o=>i.value.budget_tier=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[...t[50]||(t[50]=[e("option",{value:""},"All Budgets",-1),e("option",{value:"top"},"Top Tier (Above Average)",-1),e("option",{value:"mid"},"Mid Tier (Average)",-1),e("option",{value:"bottom"},"Bottom Tier (Below Average)",-1),e("option",{value:"high"},"High ($10,000+)",-1),e("option",{value:"medium"},"Medium ($1,000 - $10,000)",-1),e("option",{value:"low"},"Low (Below $1,000)",-1)])],512),[[k,i.value.budget_tier]])]),t[52]||(t[52]=e("div",null,null,-1))]),e("div",{class:"flex justify-end"},[e("button",{onClick:K,class:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500"}," Reset Filters ")])]),e("div",Et,[e("div",Ft,[e("table",Ut,[e("thead",Bt,[e("tr",null,[t[56]||(t[56]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Client ",-1)),t[57]||(t[57]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Agency ",-1)),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:Z},[e("div",Tt,[t[54]||(t[54]=m(" Budget ",-1)),y.value==="budget"?(l(),n("span",Rt,r(g.value==="desc"?"↓":"↑"),1)):p("",!0)])]),t[58]||(t[58]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Platform ",-1)),t[59]||(t[59]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Country ",-1)),e("th",{class:"px-6-py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:W},[e("div",Dt,[t[55]||(t[55]=m(" Year ",-1)),y.value==="date"?(l(),n("span",Pt,r(g.value==="desc"?"↓":"↑"),1)):p("",!0)])])])]),e("tbody",Nt,[(l(!0),n(b,null,v(u.records?.data||[],o=>(l(),n("tr",{key:o.id},[e("td",It,r(o.client),1),e("td",Mt,[e("span",{class:$(X(o.agency))},r(j(o.agency)),3)]),e("td",jt," $"+r(E(o.budget)),1),e("td",Lt,[e("span",{class:$([se(o.platform),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},r(o.platform?.charAt(0)?.toUpperCase()+o.platform?.slice(1)),3)]),e("td",Vt,r(o.country),1),e("td",Yt,r(Q(o.date)),1)]))),128)),!u.records?.data||u.records.data.length===0?(l(),n("tr",Ot,[...t[60]||(t[60]=[e("td",{colspan:"6",class:"px-6 py-4 text-center text-sm text-gray-500"}," No records found. Import some Excel files to get started. ",-1)])])):p("",!0)])])]),u.records?.links&&u.records.links.length>1?(l(),n("div",Ht,[e("div",Gt,[e("div",qt," Showing "+r(u.records.from||0)+" to "+r(u.records.to||0)+" of "+r(u.records.total||0)+" results ",1),e("div",zt,[(l(!0),n(b,null,v(u.records.links,o=>(l(),n(b,{key:o.label},[o.url?(l(),ae(c(R),{key:0,href:o.url+V()+J(),class:$([{"bg-blue-600 text-white":o.active,"text-gray-500 hover:text-gray-700":!o.active},"px-3 py-1 rounded-md text-sm font-medium"]),innerHTML:o.label,"preserve-state":""},null,8,["href","class","innerHTML"])):(l(),n("span",{key:1,class:$([{"bg-gray-200 text-gray-500":o.active,"text-gray-400":!o.active},"px-3 py-1 rounded-md text-sm font-medium cursor-not-allowed"]),innerHTML:o.label},null,10,Qt))],64))),128))])])])):p("",!0)])])]),_:1})],64))}};export{Jt as default};
